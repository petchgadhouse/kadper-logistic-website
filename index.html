<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KADPER LOGISTIC - True-Landed Cost</title>
    
    <!-- Google Fonts: Prompt for Modern Thai/Eng look -->
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS for Styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons (Mascot and UI) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        kadper: {
                            bg: '#FFF8E7',      /* Cream Vintage Background */
                            primary: '#E65100', /* Deep Orange */
                            dark: '#1A1A1A',    /* Soft Black */
                            accent: '#FB8C00',  /* Lighter Orange */
                            gray: '#5D5D5D'
                        }
                    },
                    fontFamily: {
                        sans: ['Prompt', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #FFF8E7; color: #1A1A1A; }
        /* Vintage Grain Effect (Subtle texture for vintage feel) */
        .vintage-grain {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            position: fixed; /* Changed to fixed for better performance */
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
        }
        .mascot-float { animation: float 6s ease-in-out infinite; }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        /* Custom styles for the tracking line on mobile */
        @media (max-width: 767px) {
            .tracking-line {
                width: 4px;
                height: 100%;
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                top: 0;
            }
        }
        .ai-loading {
            border-top-color: #E65100;
            -webkit-animation: spinner 0.8s linear infinite;
            animation: spinner 0.8s linear infinite;
        }
        @-webkit-keyframes spinner {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="relative">
    <!-- Fixed background effect -->
    <div class="vintage-grain"></div>

    <!-- Navbar -->
    <nav class="w-full py-4 px-4 md:px-8 flex justify-between items-center max-w-7xl mx-auto sticky top-0 bg-kadper-bg/95 backdrop-blur-sm z-30 shadow-md md:shadow-none">
        <div class="flex items-center gap-3">
            <!-- Logo with Cat Icon (Mascot) -->
            <div class="w-10 h-10 bg-kadper-primary rounded-full flex items-center justify-center text-white font-bold text-xl">
                <i class="fa-solid fa-cat"></i> 
            </div>
            <span class="text-xl md:text-2xl font-extrabold tracking-tighter">KADPER <span class="text-kadper-primary">LOGISTIC</span></span>
        </div>
        <div class="hidden md:flex gap-8 font-medium text-kadper-gray">
            <a href="#about" class="hover:text-kadper-primary transition">เกี่ยวกับเรา</a>
            <a href="#services" class="hover:text-kadper-primary transition">บริการ</a>
            <a href="#calculator" class="hover:text-kadper-primary transition">คำนวณราคา</a>
            <a href="#tracking" class="hover:text-kadper-primary transition">ติดตามสินค้า</a>
        </div>
        <a href="#contact" class="bg-kadper-dark text-white px-4 py-2 md:px-6 md:py-2 rounded-full text-sm md:text-base hover:bg-kadper-primary transition duration-300 font-bold shadow-lg">
            ติดต่อเรา
        </a>
    </nav>

    <!-- Hero Section -->
    <header class="max-w-7xl mx-auto px-6 py-12 md:py-24 grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
        <div>
            <!-- UPDATED: New tagline focusing on ease and problem solving -->
            <div class="inline-block bg-orange-100 text-kadper-primary px-4 py-1 rounded-full text-sm font-bold mb-4 border border-orange-200">
                รวดเร็ว | ง่าย | สบาย: ให้เรื่องปวดหัวให้เราจัดการ
            </div>
            <!-- UPDATED: New main title focusing on partnership and growth -->
            <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-4">
                <span class="text-kadper-primary">Logistic Partner</span> <br class="hidden md:block">
                พร้อมเติบโตไปกับ SME
            </h1>
            <!-- UPDATED: New main text focusing on seamless delivery and compliance -->
            <p class="text-lg text-kadper-gray mb-6 leading-relaxed" id="hero-text-to-speak">
                สินค้าจากโรงงาน ถึง มือลูกค้า อย่างไร้รอยต่อ <br>
                ยืนยันราคาถึงหน้าประตู ด้วย **True-Landed Cost**
                <span class="font-bold text-kadper-dark">ปลอดภัยที่สุดในการปฏิบัติตามกฎหมายภาษี</span> ไม่ใช่แค่ราคาที่ถูกที่สุด
            </p>
            <div class="flex flex-col sm:flex-row gap-4">
                <a href="#calculator" class="bg-kadper-primary text-white px-6 py-3 rounded-lg text-lg font-bold hover:bg-orange-700 transition shadow-xl transform hover:-translate-y-0.5 text-center">
                    คำนวณค่าขนส่ง
                </a>
                <button id="tts-button" onclick="speakHeroText()" class="border-2 border-kadper-dark px-6 py-3 rounded-lg text-lg font-bold hover:bg-kadper-dark hover:text-white transition text-center flex items-center justify-center gap-2">
                    <i class="fa-solid fa-volume-up"></i> ✨ AI Logi-Tone
                </button>
                <!-- Audio element to play TTS output -->
                <audio id="tts-audio" src=""></audio>
            </div>
        </div>
        <div class="relative flex justify-center order-first md:order-last">
            <!-- Image Placeholder for Truck/Mascot/Logistics -->
            <img 
                src="https://placehold.co/600x400/E65100/FFF?text=AUDIT-PROOF%0ALOGISTICS" 
                alt="ภาพรถบรรทุกขนส่งสินค้าและคอนเทนเนอร์" 
                class="w-full max-w-lg rounded-xl shadow-2xl border-4 border-kadper-dark mascot-float"
            >
        </div>
    </header>

    <!-- About Us Section -->
    <section id="about" class="bg-white border-y-2 border-black py-16 px-6">
        <div class="max-w-7xl mx-auto grid md:grid-cols-3 gap-10 items-start">
            <div class="md:col-span-1">
                <h2 class="text-4xl font-extrabold text-kadper-dark mb-4 border-b-4 border-kadper-primary pb-2 inline-block">
                    เกี่ยวกับเรา
                </h2>
            </div>
            <!-- UPDATED: Updated text to include partner focus and domestic services -->
            <div class="md:col-span-2 text-gray-700 leading-relaxed space-y-4">
                <p>
                    KADPER LOGISTIC ภายใต้ชื่อบริษัท G.a.d International Co., Ltd. คือ **Logistic Partner** สำหรับ
                    **Startup และ SME** ที่พร้อมจะเติบโตไปพร้อมกับคุณ เรามุ่งเน้นการขนส่งที่
                    <span class="font-bold text-kadper-dark">รวดเร็ว ง่าย สบาย</span> และปลอดภัย.
                </p>
                <p>
                    เรานำเสนอโซลูชันแบบครบวงจร: สินค้าจากโรงงาน ถึง มือลูกค้า อย่างไร้รอยต่อ และไม่ว่าคุณจะต้องการ
                    <span class="font-bold">บริการขนส่ง จัดเก็บ (คลังสินค้า) และ Last Mile ในประเทศ</span> เราก็พร้อมจัดการให้เรื่องปวดหัวทั้งหมด
                    กลายเป็นเรื่องง่าย.
                </p>
                <p>
                    พันธกิจหลักคือการนำเสนอ "True-Landed Cost" ที่แม่นยำที่สุด เพื่อขจัดความยุ่งยากของค่าใช้จ่ายแอบแฝง
                    และความเสี่ยงด้านภาษี ในฐานะ <span class="font-bold text-kadper-dark">Logistic Partner</span> เราช่วยให้ธุรกิจของคุณ
                    เติบโตได้อย่างมั่นคงและถูกกฎหมาย.
                </p>
            </div>
        </div>
    </section>

    <!-- AI Compliance Check Section -->
    <section id="ai-check" class="py-20 px-6 bg-orange-50">
        <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-[8px_8px_0px_0px_rgba(251,140,0,1)] border-2 border-kadper-accent overflow-hidden">
            <div class="bg-kadper-accent p-6 text-white text-center">
                <h2 class="text-3xl font-bold"><i class="fa-solid fa-wand-magic-sparkles mr-2"></i> ✨ AI Compliance Check</h2>
                <p class="opacity-90">ลดความเสี่ยงภาษีและเอกสารที่ต้องใช้ก่อนขนส่ง</p>
            </div>
            <div class="p-8 md:p-12 space-y-6">
                <div>
                    <label for="product-description" class="block text-lg font-bold mb-2 text-kadper-dark">
                        กรอกชื่อสินค้าหรือคำอธิบายสินค้า (เช่น: ครีมบำรุงผิวผสมวิตามินซี, ตุ๊กตาผ้า, เครื่องชาร์จมือถือ)
                    </label>
                    <textarea id="product-description" rows="3" placeholder="ตัวอย่าง: เครื่องสำอางค์ลดริ้วรอยสูตรสมุนไพรจีน" class="w-full border-2 border-gray-300 p-3 rounded focus:border-kadper-primary outline-none bg-gray-50"></textarea>
                </div>
                
                <button id="ai-check-button" onclick="checkCompliance()" class="w-full bg-kadper-primary text-white font-bold py-4 rounded hover:bg-orange-700 transition shadow-lg flex items-center justify-center gap-3">
                    <i class="fa-solid fa-shield-halved"></i> ตรวจสอบความเสี่ยงทันที
                </button>

                <div id="ai-check-loading" class="hidden text-center">
                    <div class="inline-block w-8 h-8 border-4 border-gray-200 rounded-full ai-loading"></div>
                    <p class="text-kadper-primary mt-2 font-medium">AI กำลังวิเคราะห์ข้อมูลความเสี่ยง...</p>
                </div>

                <!-- Result Area -->
                <div id="ai-check-result" class="hidden bg-gray-50 p-6 rounded-lg border-2 border-dashed border-kadper-primary">
                    <p class="font-bold text-kadper-dark mb-3">ผลการวิเคราะห์เบื้องต้น (Gemini AI):</p>
                    <div id="result-content" class="text-gray-700 whitespace-pre-wrap"></div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Calculator Section -->
    <section id="calculator" class="py-20 px-6">
        <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-[8px_8px_0px_0px_rgba(230,81,0,1)] border-2 border-kadper-primary overflow-hidden">
            <div class="bg-kadper-primary p-6 text-white text-center">
                <h2 class="text-3xl font-bold">เครื่องคำนวณ True-Landed Cost</h2>
                <p class="opacity-90">คำนวณปริมาตรและค่าใช้จ่ายในการขนส่งเบื้องต้น</p>
            </div>
            <div class="p-8 md:p-12 grid md:grid-cols-2 gap-10">
                <!-- Input Form -->
                <div class="space-y-6">
                    <div>
                        <label for="length" class="block text-sm font-bold mb-2">ขนาด (กว้าง x ยาว x สูง เป็นเซนติเมตร)</label>
                        <div class="flex gap-2">
                            <input type="number" id="length" placeholder="ยาว (ซม.)" value="100" class="w-full border-2 border-gray-300 p-3 rounded focus:border-kadper-primary outline-none bg-gray-50">
                            <input type="number" id="width" placeholder="กว้าง (ซม.)" value="100" class="w-full border-2 border-gray-300 p-3 rounded focus:border-kadper-primary outline-none bg-gray-50">
                            <input type="number" id="height" placeholder="สูง (ซม.)" value="100" class="w-full border-2 border-gray-300 p-3 rounded focus:border-kadper-primary outline-none bg-gray-50">
                        </div>
                    </div>
                    
                    <button onclick="calculateCost()" class="w-full bg-kadper-dark text-white font-bold py-4 rounded hover:bg-gray-800 transition shadow-lg">
                        คำนวณค่าขนส่ง
                    </button>
                    <p class="text-xs text-gray-400">*ราคาประมาณการ, 100 x 100 x 100 ซม. = 1 CBM</p>
                </div>

                <!-- Result Display -->
                <div class="flex flex-col justify-center space-y-4">
                    <div class="bg-orange-50 border border-orange-200 p-4 rounded-lg">
                        <div class="flex items-center gap-4">
                            <div class="bg-white p-3 rounded-full shadow"><i class="fa-solid fa-truck-fast text-kadper-primary text-xl"></i></div>
                            <div>
                                <p class="text-sm text-gray-500 font-bold">รถบรรทุก (5-7 วัน)</p>
                                <h3 class="text-2xl font-bold text-kadper-dark" id="truck-price">5,500 THB</h3>
                                <p class="text-xs text-gray-400">อัตรา: 5,500 บาท / CBM</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg">
                        <div class="flex items-center gap-4">
                            <div class="bg-white p-3 rounded-full shadow"><i class="fa-solid fa-ship text-blue-600 text-xl"></i></div>
                            <div>
                                <p class="text-sm text-gray-500 font-bold">ทางทะเล (15-20 วัน)</p>
                                <h3 class="text-2xl font-bold text-kadper-dark" id="sea-price">4,000 THB</h3>
                                <p class="text-xs text-gray-400">อัตรา: 4,000 บาท / CBM</p>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-2 pt-2 border-t border-gray-200">
                        <p class="font-bold text-lg text-kadper-dark">ปริมาตรรวม: <span id="total-cbm" class="text-kadper-primary">1.0000</span> CBM</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Grid -->
    <section id="services" class="max-w-7xl mx-auto px-6 py-16">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold mb-4">บริการของเรา</h2>
            <p class="text-kadper-gray text-lg">โซลูชันครบวงจรจากจีนถึงไทย</p>
        </div>
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Service 1: Shipping -->
            <div class="bg-white p-6 rounded-xl border border-gray-200 hover:border-kadper-primary hover:shadow-lg transition group shadow-md">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-kadper-primary mb-4 group-hover:bg-kadper-primary group-hover:text-white transition">
                    <i class="fa-solid fa-route text-xl"></i>
                </div>
                <h3 class="font-bold text-lg mb-2">ขนส่งจีน-ไทย</h3>
                <p class="text-sm text-gray-500">ทั้งทางบก (รถบรรทุก) และทางทะเล พร้อมเคลียร์ภาษีอย่างถูกต้อง</p>
            </div>
            <!-- Service 2: Warehouse -->
            <div class="bg-white p-6 rounded-xl border border-gray-200 hover:border-kadper-primary hover:shadow-lg transition group shadow-md">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-kadper-primary mb-4 group-hover:bg-kadper-primary group-hover:text-white transition">
                    <i class="fa-solid fa-warehouse text-xl"></i>
                </div>
                <h3 class="font-bold text-lg mb-2">พื้นที่คลังสินค้า</h3>
                <p class="text-sm text-gray-500">บริการคลังสินค้าเพื่อรองรับการจัดเก็บและกระจายสินค้า</p>
            </div>
            <!-- Service 3: Fulfillment Pick Pack -->
            <div class="bg-white p-6 rounded-xl border border-gray-200 hover:border-kadper-primary hover:shadow-lg transition group shadow-md">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-kadper-primary mb-4 group-hover:bg-kadper-primary group-hover:text-white transition">
                    <i class="fa-solid fa-boxes-packing text-xl"></i>
                </div>
                <h3 class="font-bold text-lg mb-2">Fulfillment (Pick & Pack)</h3>
                <p class="text-sm text-gray-500">แพ็คและจัดส่งสินค้าถึงมือลูกค้าคนไทยโดยตรง</p>
            </div>
            <!-- Service 4: International/Certificate -->
            <div class="bg-white p-6 rounded-xl border border-gray-200 hover:border-kadper-primary hover:shadow-lg transition group shadow-md">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-kadper-primary mb-4 group-hover:bg-kadper-primary group-hover:text-white transition">
                    <i class="fa-solid fa-file-certificate text-xl"></i>
                </div>
                <h3 class="font-bold text-lg mb-2">บริการเอกสารและส่งออก</h3>
                <p class="text-sm text-gray-500">จัดการเอกสารส่งออก และขอใบรับรองสินค้าในไทย</p>
            </div>
        </div>
    </section>

    <!-- Integration Section -->
    <section id="store-integration" class="bg-kadper-primary py-12 px-6 text-white">
        <div class="max-w-7xl mx-auto text-center">
            <h2 class="text-3xl font-bold mb-8">Store-to-Door Integration</h2>
            <p class="text-xl mb-10 font-medium">ไม่เป็นแค่รถบรรทุก แต่เป็น Plug-in ที่เชื่อมต่อกับร้านค้าออนไลน์ของคุณ!</p>
            <div class="flex flex-wrap justify-center gap-6 md:gap-16">
                <!-- Shopee Icon -->
                <div class="flex flex-col items-center p-4 bg-white/10 rounded-xl">
                    <i class="fa-solid fa-bag-shopping text-5xl text-white mb-2"></i>
                    <span class="font-bold text-sm">Shopee</span>
                </div>
                <!-- Lazada Icon -->
                <div class="flex flex-col items-center p-4 bg-white/10 rounded-xl">
                    <i class="fa-regular fa-heart text-5xl text-white mb-2"></i>
                    <span class="font-bold text-sm">Lazada</span>
                </div>
                <!-- TikTok Shop Icon -->
                <div class="flex flex-col items-center p-4 bg-white/10 rounded-xl">
                    <i class="fa-brands fa-tiktok text-5xl text-white mb-2"></i>
                    <span class="font-bold text-sm">TikTok Shop</span>
                </div>
                <!-- API Icon -->
                <div class="flex flex-col items-center p-4 bg-white/10 rounded-xl">
                    <i class="fa-solid fa-code text-5xl text-white mb-2"></i>
                    <span class="font-bold text-sm">API Sync</span>
                </div>
            </div>
            <p class="mt-8 text-sm opacity-80">ระบบจะอัปเดตระดับสต็อกโดยอัตโนมัติ เมื่อสินค้าถึงคลังสินค้าในไทย</p>
        </div>
    </section>

    <!-- Live Tracking (Domino's Style) -->
    <section id="tracking" class="bg-kadper-dark text-white py-20 px-6">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-2 text-kadper-primary">Proactive Live-Tracking</h2>
                <p class="text-gray-400">แจ้งสถานะสินค้าแบบ Real-time ก่อนที่คุณจะโทรมาถาม</p>
            </div>
            
            <!-- Tracker UI -->
            <div class="bg-gray-800 rounded-2xl p-8 border border-gray-700 relative overflow-hidden">
                <div class="flex flex-col md:flex-row justify-between items-center relative z-10 gap-8 md:gap-0">
                    
                    <!-- Progress Bar Line (Mobile Vertical) -->
                    <div class="tracking-line bg-gray-700 md:hidden">
                        <div class="bg-kadper-primary w-full h-1/2"></div>
                    </div>

                    <!-- Step 1: China Warehouse -->
                    <div class="text-center w-full md:w-1/4 opacity-50">
                        <div class="w-12 h-12 bg-gray-600 rounded-full mx-auto mb-3 flex items-center justify-center"><i class="fa-solid fa-box text-lg"></i></div>
                        <h4 class="font-bold text-sm">คลังจีน</h4>
                        <p class="text-xs text-gray-400">รับสินค้าแล้ว</p>
                    </div>
                    
                    <!-- Step 2: Border Crossing (Active) -->
                    <div class="text-center w-full md:w-1/4">
                        <div class="w-14 h-14 bg-kadper-primary rounded-full mx-auto mb-3 flex items-center justify-center shadow-[0_0_20px_rgba(230,81,0,0.6)] animate-pulse">
                            <i class="fa-solid fa-truck-moving text-xl"></i>
                        </div>
                        <h4 class="font-bold text-kadper-primary">กำลังข้ามแดน</h4>
                        <p class="text-xs text-gray-300">รอการเคลียร์ศุลกากร...</p>
                        <div class="bg-yellow-600 text-yellow-100 text-[10px] px-2 py-1 rounded mt-2 inline-block font-medium">
                            <i class="fa-solid fa-triangle-exclamation mr-1"></i> แจ้งดีเลย์: ฝนตกหนัก 2 ชม.
                        </div>
                    </div>

                    <!-- Step 3: Thai Warehouse -->
                    <div class="text-center w-full md:w-1/4 opacity-50">
                        <div class="w-12 h-12 bg-gray-600 rounded-full mx-auto mb-3 flex items-center justify-center"><i class="fa-solid fa-warehouse text-lg"></i></div>
                        <h4 class="font-bold text-sm">คลังไทย</h4>
                        <p class="text-xs text-gray-400">รอการจัดส่ง</p>
                    </div>

                    <!-- Step 4: Last Mile -->
                    <div class="text-center w-full md:w-1/4 opacity-50">
                        <div class="w-12 h-12 bg-gray-600 rounded-full mx-auto mb-3 flex items-center justify-center"><i class="fa-solid fa-house-chimney text-lg"></i></div>
                        <h4 class="font-bold text-sm">ถึงหน้าประตู</h4>
                        <p class="text-xs text-gray-400">กำลังนำส่ง</p>
                    </div>
                </div>
                
                <!-- Progress Bar Line (Desktop Horizontal) -->
                <div class="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-gray-700 -z-0 transform -translate-y-1/2">
                    <div class="h-full bg-kadper-primary w-1/2"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="py-20 px-6 text-center">
        <h2 class="text-3xl font-bold mb-12">เสียงตอบรับจากลูกค้า</h2>
        <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                <div class="text-kadper-primary text-2xl mb-4">★★★★★</div>
                <p class="italic text-gray-600 mb-6">"มั่นใจใน True-Landed Cost ไม่มีค่าจุกจิกตามมาให้ปวดหัว ทำบัญชีง่ายขึ้นมาก"</p>
                <h4 class="font-bold">- คุณบี, ผู้จำหน่ายสินค้า Gadget</h4>
            </div>
            <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-t-kadper-primary transform md:-translate-y-4">
                <div class="text-kadper-primary text-2xl mb-4">★★★★★</div>
                <p class="italic text-gray-600 mb-6">"ระบบ API เชื่อมต่อกับ TikTok Shop ได้จริง สต็อกอัปเดตอัตโนมัติทันทีที่ถึงคลังไทย"</p>
                <h4 class="font-bold">- คุณกัส, เจ้าของแบรนด์แฟชั่น</h4>
            </div>
            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                <div class="text-kadper-primary text-2xl mb-4">★★★★★</div>
                <p class="italic text-gray-600 mb-6">"ความเร็วในการขนส่งดีกว่าที่เคยใช้มา ตัวติดตามแจ้งละเอียดสุดๆ ทำให้จัดการคิวลูกค้าได้ดี"</p>
                <h4 class="font-bold">- คุณแบงค์, ธุรกิจนำเข้า</h4>
            </div>
        </div>
    </section>

    <!-- Footer & Contact -->
    <footer id="contact" class="bg-black text-white pt-16 pb-8 border-t-8 border-kadper-primary">
        <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-2 lg:grid-cols-3 gap-12 mb-12">
            
            <!-- Company Info -->
            <div>
                <div class="flex items-center gap-2 mb-4">
                    <i class="fa-solid fa-cat text-2xl text-kadper-primary"></i>
                    <span class="text-2xl font-bold tracking-tighter">KADPER LOGISTIC</span>
                </div>
                <p class="text-gray-400 leading-relaxed max-w-sm">
                    โลจิสติกส์สำหรับสตาร์ทอัพ เชื่อมต่อจีน-ไทย ด้วยความเร็ว ความโปร่งใส และนวัตกรรม
                </p>
            </div>
            
            <!-- Contact Details (UPDATED) -->
            <div>
                <h3 class="text-xl font-bold mb-4 text-kadper-primary">ติดต่อเรา (Contact Us)</h3>
                <p class="font-bold text-lg">G.a.d International Co., Ltd.</p>
                <!-- New Address -->
                <p class="text-gray-400 mt-2">976/9 พระราม 9 แขวงบางกะปิ เขตห้วยขวาง กรุงเทพฯ</p>
                <!-- New Phone Number -->
                <p class="mt-4 font-bold text-xl"><i class="fa-solid fa-phone mr-2 text-kadper-accent"></i> 094-908-3999</p>
                <p class="text-gray-400 mt-1"><i class="fa-solid fa-envelope mr-2 text-kadper-accent"></i> contact@kadperlogistic.com</p>
            </div>

            <!-- Social Media -->
            <div class="md:col-span-2 lg:col-span-1">
                <h3 class="text-xl font-bold mb-4 text-kadper-primary">เชื่อมต่อกับเรา</h3>
                <div class="flex gap-4">
                    <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-kadper-primary transition shadow-md"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-kadper-primary transition shadow-md"><i class="fa-brands fa-line"></i></a>
                    <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-kadper-primary transition shadow-md"><i class="fa-solid fa-at"></i></a>
                </div>
            </div>
        </div>
        <div class="text-center border-t border-gray-800 pt-8 text-sm text-gray-600">
            &copy; 2024 KADPER LOGISTIC. All rights reserved.
        </div>
    </footer>

    <!-- Javascript Functionality -->
    <script>
        // Define API Key and URL for Gemini calls
        const apiKey = "";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
        const ttsApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;

        // Utility function for exponential backoff
        async function fetchWithBackoff(url, options, maxRetries = 5) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) {
                        return response;
                    } else if (response.status === 429 || response.status >= 500) {
                        // Rate limit or server error: retry
                        const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue;
                    } else {
                        // Other error: break and throw
                        throw new Error(`API returned status ${response.status}: ${await response.text()}`);
                    }
                } catch (error) {
                    if (i === maxRetries - 1) throw error;
                    const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
        }

        // --- Core Application Logic ---

        // Start calculation with default values on load
        window.onload = function() {
            calculateCost();
        };

        function calculateCost() {
            // Get values. Default to 0 if input is empty or invalid.
            const l = parseFloat(document.getElementById('length').value) || 0;
            const w = parseFloat(document.getElementById('width').value) || 0;
            const h = parseFloat(document.getElementById('height').value) || 0;

            // Calculate CBM (Cubic Meter)
            // Formula: (L * W * H) / 1,000,000 for cm to m3
            const cbm = (l * w * h) / 1000000;

            // Define Rates
            const truckRate = 5500; // 5500 THB by truck
            const seaRate = 4000;   // 4000 THB by sea

            // Calculate Total Prices
            const truckTotal = cbm * truckRate;
            const seaTotal = cbm * seaRate;

            // Function to format number with commas and set text
            const formatPrice = (elementId, price) => {
                const formattedPrice = price.toLocaleString('th-TH', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
                document.getElementById(elementId).innerText = formattedPrice + " THB";
            };

            // Update UI
            document.getElementById('total-cbm').innerText = cbm.toFixed(4); // Show CBM up to 4 decimal places
            formatPrice('truck-price', truckTotal);
            formatPrice('sea-price', seaTotal);
        }

        // --- GEMINI API INTEGRATION 1: AI COMPLIANCE CHECK ---

        async function checkCompliance() {
            const description = document.getElementById('product-description').value.trim();
            const resultDiv = document.getElementById('ai-check-result');
            const resultContent = document.getElementById('result-content');
            const loadingDiv = document.getElementById('ai-check-loading');
            const checkButton = document.getElementById('ai-check-button');

            if (!description) {
                resultContent.innerText = "กรุณากรอกชื่อสินค้าหรือคำอธิบายเพื่อทำการวิเคราะห์.";
                resultDiv.classList.remove('hidden');
                return;
            }

            // Show loading state
            loadingDiv.classList.remove('hidden');
            resultDiv.classList.add('hidden');
            checkButton.disabled = true;

            const systemPrompt = "คุณคือผู้ช่วยโลจิสติกส์ที่มีความเชี่ยวชาญด้านกฎหมายไทย วิเคราะห์ชื่อสินค้าหรือคำอธิบายที่ผู้ใช้ป้อน และประเมินความเสี่ยงด้านกฎหมายและภาษีของไทย สรุปผลเป็นภาษาไทย 3 หัวข้อหลัก: 1) ความเสี่ยงด้านกฎหมาย (เช่น ต้องมี อย. มอก.) 2) อัตราภาษีนำเข้าโดยประมาณ (แจ้งช่วง) 3) ข้อแนะนำเบื้องต้นในการเตรียมเอกสาร ให้ผลลัพธ์เป็นข้อความที่อ่านง่าย";
            const userQuery = `วิเคราะห์ความเสี่ยงและข้อแนะนำสำหรับสินค้า: ${description}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }], // Use Google Search for compliance grounding
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
                config: {
                    temperature: 0.4
                }
            };

            try {
                const response = await fetchWithBackoff(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "เกิดข้อผิดพลาดในการวิเคราะห์ข้อมูล กรุณาลองใหม่อีกครั้ง";
                
                resultContent.innerText = text;
                resultDiv.classList.remove('hidden');

            } catch (error) {
                console.error("Gemini API Error:", error);
                resultContent.innerText = "เกิดข้อผิดพลาดในการเชื่อมต่อ AI: ไม่สามารถเข้าถึงข้อมูลได้ กรุณาตรวจสอบการเชื่อมต่อของคุณ.";
                resultDiv.classList.remove('hidden');
            } finally {
                // Hide loading and re-enable button
                loadingDiv.classList.add('hidden');
                checkButton.disabled = false;
            }
        }


        // --- GEMINI API INTEGRATION 2: AI LOGI-TONE (TEXT-TO-SPEECH) ---
        
        // Base64 to ArrayBuffer helper for audio processing
        const base64ToArrayBuffer = (base64) => {
            const binaryString = atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        };

        // PCM to WAV converter function (Required for the API's raw PCM output)
        const pcmToWav = (pcm16, sampleRate) => {
            const numChannels = 1;
            const bitDepth = 16;
            const bytesPerSample = bitDepth / 8;
            const blockAlign = numChannels * bytesPerSample;
            const byteRate = sampleRate * blockAlign;
            const dataSize = pcm16.length * bytesPerSample;
            const buffer = new ArrayBuffer(44 + dataSize);
            const view = new DataView(buffer);

            let offset = 0;

            // Write RIFF header
            view.setUint32(offset, 0x52494646, false); offset += 4; // "RIFF"
            view.setUint32(offset, 36 + dataSize, true); offset += 4; // file size
            view.setUint32(offset, 0x57415645, false); offset += 4; // "WAVE"

            // Write FMT chunk
            view.setUint32(offset, 0x666d7420, false); offset += 4; // "fmt "
            view.setUint32(offset, 16, true); offset += 4; // chunk size
            view.setUint16(offset, 1, true); offset += 2; // format code (PCM)
            view.setUint16(offset, numChannels, true); offset += 2; // number of channels
            view.setUint32(offset, sampleRate, true); offset += 4; // sample rate
            view.setUint32(offset, byteRate, true); offset += 4; // byte rate
            view.setUint16(offset, blockAlign, true); offset += 2; // block align
            view.setUint16(offset, bitDepth, true); offset += 2; // bit depth

            // Write DATA chunk
            view.setUint32(offset, 0x64617461, false); offset += 4; // "data"
            view.setUint32(offset, dataSize, true); offset += 4; // chunk size

            // Write PCM data
            for (let i = 0; i < pcm16.length; i++) {
                view.setInt16(offset, pcm16[i], true);
                offset += 2;
            }

            return new Blob([view], { type: 'audio/wav' });
        };


        async function speakHeroText() {
            const textToSpeak = document.getElementById('hero-text-to-speak').innerText;
            const audioPlayer = document.getElementById('tts-audio');
            const speakButton = document.getElementById('tts-button');
            const originalButtonContent = speakButton.innerHTML;

            // 1. Set Loading State
            speakButton.disabled = true;
            speakButton.innerHTML = '<div class="inline-block w-4 h-4 border-2 border-white rounded-full ai-loading mr-2"></div> กำลังสร้างเสียง...';

            // 2. TTS API Payload
            const payload = {
                contents: [{
                    parts: [{ text: `Say in an informative and reliable tone: ${textToSpeak}` }]
                }],
                generationConfig: {
                    responseModalities: ["AUDIO"],
                    speechConfig: {
                        voiceConfig: {
                            prebuiltVoiceConfig: { voiceName: "Charon" } // Charon: Informative voice
                        }
                    }
                },
                model: "gemini-2.5-flash-preview-tts"
            };

            try {
                // 3. API Call
                const response = await fetchWithBackoff(ttsApiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                const result = await response.json();
                const part = result?.candidates?.[0]?.content?.parts?.[0];
                const audioData = part?.inlineData?.data;
                const mimeType = part?.inlineData?.mimeType;

                if (audioData && mimeType && mimeType.startsWith("audio/L16")) {
                    // 4. Process PCM Audio
                    const sampleRateMatch = mimeType.match(/rate=(\d+)/);
                    const sampleRate = sampleRateMatch ? parseInt(sampleRateMatch[1], 10) : 16000;
                    
                    const pcmData = base64ToArrayBuffer(audioData);
                    const pcm16 = new Int16Array(pcmData);

                    // 5. Convert to WAV Blob and create URL
                    const wavBlob = pcmToWav(pcm16, sampleRate);
                    const audioUrl = URL.createObjectURL(wavBlob);
                    
                    // 6. Play Audio
                    audioPlayer.src = audioUrl;
                    audioPlayer.play();
                    
                    audioPlayer.onended = () => {
                        // Clean up URL after playing
                        URL.revokeObjectURL(audioUrl);
                    };

                } else {
                    console.error("TTS API Error: Audio data not found or format incorrect.");
                    alert("ไม่สามารถสร้างเสียงได้: เกิดข้อผิดพลาดในการประมวลผลข้อมูลเสียง");
                }

            } catch (error) {
                console.error("TTS API Error:", error);
                alert("เกิดข้อผิดพลาดในการเชื่อมต่อ AI Logi-Tone");
            } finally {
                // 7. Reset Button State
                speakButton.disabled = false;
                speakButton.innerHTML = originalButtonContent;
            }
        }
    </script>
</body>
</html>